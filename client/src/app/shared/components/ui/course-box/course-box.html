<div
  class="course-box bg-white rounded-lg shadow ...  flex flex-col justify-start items-start overflow-hidden cursor-pointer transition-all duration-200 hover:bg-black/5 focus:bg-black/5 focus:outline-blue-500 focus:outline-2"
  [class.h-44]="showImage"
  [class.h-auto]="!showImage"
  (click)="navigateToCourse()"
  (keydown.enter)="navigateToCourse()"
  (keydown.space)="$event.preventDefault(); navigateToCourse()"
  tabindex="0"
  role="button"
  [attr.aria-label]="'Accéder au cours ' + (course?.name || 'sans nom')"
>
  <!-- Image section - only shown when showImage is true -->
  <div
    *ngIf="showImage"
    class="image-container self-stretch flex-1 relative overflow-hidden"
    [ngClass]="{ 'bg-black/20': isHovered }"
  >
    <img
      *ngIf="course?.img && !imageError; else placeholder"
      [src]="course?.img"
      [alt]="course?.name"
      class="w-full h-full object-cover transition-all duration-200"
      [class.opacity-80]="isHovered"
      (error)="onImageError()"
      loading="lazy"
    />
    <ng-template #placeholder>
      <div class="w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center">
        <div class="w-16 h-16 bg-gray-300 rounded-lg flex items-center justify-center">
          <!-- Icône d'image -->
          <svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"
               xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
          </svg>
        </div>
      </div>
    </ng-template>
  </div>
  <div data-layer="Frame 1" class="Frame1 self-stretch p-3 bg-white/50 backdrop-blur-3xl flex flex-col justify-start items-start gap-0.5">
    <div data-layer="Frame 2" class="Frame2 self-stretch inline-flex justify-start items-center gap-1">
      <div data-layer="Course name" class="CourseName flex-1 justify-start text-black text-sm font-semibold leading-tight">
        {{ course?.name || 'Nom du cours' }}
      </div>
    </div>
    <div data-layer="Course description" class="CourseCode self-stretch opacity-60 justify-start text-black text-xs font-normal ">
      {{ getCode() }}
    </div>
  </div>
</div>

