<button
  [type]="type"
  [id]="id"
  [name]="name"
  [value]="value"
  [disabled]="isDisabled"
  [class]="buttonClasses"
  [attr.aria-label]="ariaLabelValue || null"
  [attr.aria-labelledby]="ariaLabelledBy || null"
  [attr.aria-describedby]="ariaDescribedBy || null"
  [attr.aria-expanded]="ariaExpanded"
  [attr.aria-pressed]="ariaPressed"
  [attr.aria-controls]="ariaControls || null"
  [attr.aria-haspopup]="ariaHaspopup"
  [attr.aria-busy]="loading || null"
  (click)="onClick($event)"
  (focus)="onFocus($event)"
  (blur)="onBlur($event)"
  (keydown)="onKeyDown($event)"
  (keyup)="onKeyUp($event)">

  <!-- Loading Spinner Overlay -->
  @if (loading) {
    <div
      class="absolute inset-0 flex items-center justify-center">
      <lucide-icon
        name="loader-circle"
        [size]="iconSize"
        class="animate-spin">
      </lucide-icon>
    </div>
  }

  <!-- Button Content (hidden when loading) -->
  <div
    class="flex items-center gap-2"
    [class.invisible]="loading">

    <!-- Leading Slot -->
    <ng-content select="[slot=leading]"></ng-content>

    <!-- Main Content -->
    <span class="flex-1">
      <ng-content></ng-content>
    </span>

    <!-- Trailing Slot -->
    <ng-content select="[slot=trailing]"></ng-content>

  </div>

</button>
